<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Rectangle?>

<?import javafx.scene.layout.StackPane?>
<BorderPane fx:id="rootPane" prefHeight="750.0" prefWidth="1100.0" style="-fx-background-color: #F4F7F6;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.ExpertHomeController">

    <top>
        <HBox prefHeight="10.0" style="-fx-background-color: #2E7D32; -fx-padding: 10 20;" alignment="CENTER_LEFT" spacing="20">
            <children>
                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Button fx:id="btnHome" onAction="#goToHome" prefHeight="40.0" style="-fx-background-color: rgba(255,255,255,0.08); -fx-text-fill: white; -fx-padding: 6 12; -fx-font-weight: bold;" text="ðŸ   Tableau de bord" />
                    <Button fx:id="btnIrrigation" onAction="#goToIrrigationPlan" prefHeight="40.0" style="-fx-background-color: transparent; -fx-text-fill: #e0e0e0; -fx-padding: 6 12;" text="ðŸ’§  Plan d'Irrigation" />
                    <Button fx:id="btnAnalytics" onAction="#goToDashboard" prefHeight="40.0" style="-fx-background-color: transparent; -fx-text-fill: #e0e0e0; -fx-padding: 6 12;" text="ðŸ“Š  Analytique" />
                    <Button fx:id="btnProducts" onAction="#goToAjouterProduit" prefHeight="40.0" style="-fx-background-color: transparent; -fx-text-fill: #e0e0e0; -fx-padding: 6 12;" text="ðŸ’Š  Produits" />
                </HBox>
                <Region HBox.hgrow="ALWAYS" />

                <StackPane alignment="CENTER_RIGHT">
                    <Button fx:id="btnDiagnostics" onAction="#goToReclamations" prefHeight="36.0" style="-fx-background-color: transparent; -fx-text-fill: #e0e0e0; -fx-padding: 6 12;" text="ðŸ“ Diagnostic" />
                    <Label fx:id="badgeDiagnostic" style="-fx-background-color: #E74C3C; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10; -fx-padding: 2 7; -fx-font-size: 11;" text="0" StackPane.alignment="CENTER_RIGHT" translateX="-10" />
                </StackPane>
            </children>
        </HBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" style="-fx-background-color: transparent; -fx-background: transparent;" BorderPane.alignment="CENTER">
            <content>
                <VBox spacing="35" style="-fx-padding: 40;">

                    <HBox alignment="BOTTOM_LEFT">
                        <VBox spacing="5">
                            <Label style="-fx-font-size: 15;" text="Bienvenue sur Agriflow" textFill="#7f8c8d" />
                            <Label style="-fx-font-size: 32; -fx-font-weight: 900; -fx-letter-spacing: -0.5px;" text="Tableau de bord Expert" textFill="#2E7D32" />
                        </VBox>
                        <Region HBox.hgrow="ALWAYS" />
                        <VBox alignment="CENTER_RIGHT" style="-fx-background-color: white; -fx-padding: 10 20; -fx-background-radius: 12;">
                            <effect><DropShadow color="#0000000d" offsetY="5" radius="10" /></effect>
                            <Label fx:id="timeLabel" style="-fx-font-size: 26; -fx-font-weight: bold;" text="00:00" textFill="#333" />
                            <Label fx:id="dateLabel" style="-fx-font-size: 13; -fx-font-weight: bold;" text="Date..." textFill="#2E7D32" />
                        </VBox>
                    </HBox>

                    <HBox spacing="30">
                        <HBox alignment="CENTER_LEFT" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 0 20 0 0;" HBox.hgrow="ALWAYS">
                            <effect><DropShadow color="#00000014" offsetY="8" radius="15" /></effect>
                            <Rectangle arcHeight="15" arcWidth="15" fill="#2E7D32" height="110" width="8" />
                            <VBox alignment="CENTER_LEFT" spacing="5" style="-fx-padding: 20 20 20 25;">
                                <Label style="-fx-font-size: 16; -fx-font-weight: bold;" text="ðŸŒ¿ Parcelles" textFill="#7f8c8d" />
                                <Label fx:id="lblNbParcelles" style="-fx-font-size: 42; -fx-font-weight: 900;" text="0" textFill="#2E7D32" />
                            </VBox>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 0 20 0 0;" HBox.hgrow="ALWAYS">
                            <effect><DropShadow color="#00000014" offsetY="8" radius="15" /></effect>
                            <Rectangle arcHeight="15" arcWidth="15" fill="#F39C12" height="110" width="8" />
                            <VBox alignment="CENTER_LEFT" spacing="5" style="-fx-padding: 20 20 20 25;">
                                <Label style="-fx-font-size: 16; -fx-font-weight: bold;" text="ðŸŒ¾ Cultures actives" textFill="#7f8c8d" />
                                <Label fx:id="lblNbCultures" style="-fx-font-size: 42; -fx-font-weight: 900;" text="0" textFill="#F39C12" />
                            </VBox>
                        </HBox>
                    </HBox>

                    <VBox spacing="20" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 30;">
                        <effect><DropShadow color="#00000014" offsetY="8" radius="15" /></effect>
   
                       <VBox prefHeight="94.0" prefWidth="694.0" spacing="15" style="-fx-background-color: white; -fx-padding: 25 30; -fx-background-radius: 10;">
                           <effect>
                        <DropShadow color="#00000014" offsetY="8" radius="15" />
                     </effect>
                           <Label style="-fx-font-weight: bold; -fx-font-size: 18;" text="ðŸ“ CoordonnÃ©es de suivi" textFill="#2E7D32" />
                           <HBox alignment="CENTER_LEFT" spacing="20">
                               <TextField fx:id="latField" promptText="Latitude (ex: 36.8065)" style="-fx-background-radius: 8; -fx-padding: 12; -fx-background-color: #F8F9FA; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-font-size: 11;" HBox.hgrow="ALWAYS" />
                               <TextField fx:id="lonField" promptText="Longitude (ex: 10.1815)" style="-fx-background-radius: 8; -fx-padding: 12; -fx-background-color: #F8F9FA; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-font-size: 11;" HBox.hgrow="ALWAYS" />
                               <Button onAction="#saveLocation" style="-fx-background-color: #2E7D32; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 12 30; -fx-background-radius: 8; -fx-cursor: hand; -fx-font-size: 11;" text="Mettre Ã  jour" />
                           </HBox>
                       </VBox>

                        <Label style="-fx-font-weight: bold; -fx-font-size: 18;" text="ðŸŒ¤ï¸ Conditions MÃ©tÃ©orologiques" textFill="#2E7D32" />

                        <HBox alignment="CENTER" spacing="50">
                            <VBox alignment="CENTER" spacing="5">
                                <HBox alignment="CENTER" spacing="15">
                                    <Label fx:id="weatherIconLabel" style="-fx-font-size: 65;" text="â˜€ï¸" />
                                    <Label fx:id="tempLabel" style="-fx-font-size: 70; -fx-font-weight: 900; -fx-letter-spacing: -2px;" text="--Â°" textFill="#333" />
                                </HBox>
                                <Label fx:id="cityLabel" style="-fx-font-weight: bold; -fx-font-size: 20;" text="Parcelle NÂ°1" textFill="#2E7D32" />
                                <Label text="PrÃ©visions actuelles" textFill="#95a5a6" />
                            </VBox>

                            <Separator orientation="VERTICAL" prefHeight="100.0" />

                            <GridPane hgap="20" vgap="20">
                                <columnConstraints>
                                    <ColumnConstraints percentWidth="50" />
                                    <ColumnConstraints percentWidth="50" />
                                </columnConstraints>
                                <rowConstraints>
                                    <RowConstraints />
                                    <RowConstraints />
                                </rowConstraints>

                                <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: #EBF5FB; -fx-padding: 15; -fx-background-radius: 10;" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                    <Label style="-fx-font-size: 24;" text="ðŸ’§" />
                                    <VBox>
                                        <Label style="-fx-font-size: 12;" text="HumiditÃ©" textFill="#7f8c8d" />
                                        <Label fx:id="humidityLabel" style="-fx-font-weight: bold; -fx-font-size: 18;" text="--%" textFill="#2980b9" />
                                    </VBox>
                                </HBox>

                                <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: #F8F9FA; -fx-padding: 15; -fx-background-radius: 10;" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                    <Label style="-fx-font-size: 24;" text="ðŸ’¨" />
                                    <VBox>
                                        <Label style="-fx-font-size: 12;" text="Vent" textFill="#7f8c8d" />
                                        <Label style="-fx-font-weight: bold; -fx-font-size: 18;" text="12 km/h" textFill="#34495e" />
                                    </VBox>
                                </HBox>

                                <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: #E8F8F5; -fx-padding: 15; -fx-background-radius: 10;" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                    <Label style="-fx-font-size: 24;" text="ðŸŒ§ï¸" />
                                    <VBox>
                                        <Label style="-fx-font-size: 12;" text="PrÃ©cipitations" textFill="#7f8c8d" />
                                        <Label style="-fx-font-weight: bold; -fx-font-size: 18;" text="0.0 mm" textFill="#16a085" />
                                    </VBox>
                                </HBox>

                                <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: #FDEDEC; -fx-padding: 15; -fx-background-radius: 10;" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                    <Label style="-fx-font-size: 24;" text="ðŸŒ¡ï¸" />
                                    <VBox>
                                        <Label style="-fx-font-size: 12;" text="Ressenti" textFill="#7f8c8d" />
                                        <Label style="-fx-font-weight: bold; -fx-font-size: 18;" text="--Â°" textFill="#c0392b" />
                                    </VBox>
                                </HBox>
                            </GridPane>
                        </HBox>
                    </VBox>

                </VBox>
            </content>
        </ScrollPane>
    </center>
</BorderPane>
