<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<BorderPane fx:id="mainContainer"
            xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="controllers.MainController"
            style="-fx-background-color: #F5F5F5;">

    <!-- ================= LEFT DRAWER ================= -->
    <top>
        <VBox spacing="10" style="-fx-background-color: #2E7D32;">
            <padding>
                <Insets top="16" right="18" bottom="16" left="18"/>
            </padding>

            <Label text="AgriFlow - Marketplace"
                   style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: white;"/>

        </VBox>
    </top>

    <left>
        <VBox fx:id="drawerBox"
              prefWidth="260.0"
              spacing="14"
              style="-fx-background-color: #2E7D32;">
            <padding>
                <Insets top="18" right="14" bottom="18" left="14"/>
            </padding>

            <!-- Logo -->
            <VBox spacing="10" alignment="CENTER">
                <ImageView fx:id="logoImage"
                           fitWidth="140" fitHeight="140"
                           preserveRatio="true" smooth="true">
                    <image>
                        <Image url="@/images/logo.png"/>
                    </image>
                </ImageView>

                <Label text="AgriFlow"
                       style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;"/>
            </VBox>

            <Separator style="-fx-opacity: 0.35;"/>

            <!-- Menu -->
            <VBox spacing="10">

                <Button fx:id="menuProfil" text="Mon Profil"
                        onAction="#goProfil"
                        maxWidth="1.7976931348623157E308"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-padding: 10 12; -fx-border-color: rgba(255,255,255,0.35); -fx-border-radius: 10;"/>

                <Button fx:id="menuListeUtilisateurs"
                        text="Liste des utilisateurs"
                        onAction="#goListeUtilisateurs"
                        maxWidth="1.7976931348623157E308"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-padding: 10 12; -fx-border-color: rgba(255,255,255,0.35); -fx-border-radius: 10;"/>

                <Button fx:id="menuMarketplace" text="Marketplace"
                        onAction="#goMarketplace"
                        maxWidth="1.7976931348623157E308"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-padding: 10 12; -fx-border-color: rgba(255,255,255,0.35); -fx-border-radius: 10;"/>


                <!-- ✅ conserver -->
                <Button fx:id="btnReservations" text="Mes Réservations"
                        onAction="#afficherReservations"
                        maxWidth="1.7976931348623157E308"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-padding: 10 12; -fx-border-color: rgba(255,255,255,0.35); -fx-border-radius: 10;"/>

                <!-- ✅ conserver -->
                <Button fx:id="btnAdmin" text="Espace Admin"
                        onAction="#afficherAdmin"
                        maxWidth="1.7976931348623157E308"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-padding: 10 12; -fx-border-color: rgba(255,255,255,0.35); -fx-border-radius: 10;"/>

                <Button fx:id="menuParcellesCultures" text="Parcelles et cultures"
                        onAction="#goParcellesCultures"
                        maxWidth="1.7976931348623157E308"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-padding: 10 12; -fx-border-color: rgba(255,255,255,0.35); -fx-border-radius: 10;"/>

                <Button fx:id="menuCollaborations" text="Collaborations"
                        onAction="#goCollaborations"
                        maxWidth="1.7976931348623157E308"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-padding: 10 12; -fx-border-color: rgba(255,255,255,0.35); -fx-border-radius: 10;"/>

                <Button fx:id="menuPlanIrrigation" text="Plan d'Irrigation"
                        onAction="#goPlanIrrigation"
                        maxWidth="1.7976931348623157E308"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-padding: 10 12; -fx-border-color: rgba(255,255,255,0.35); -fx-border-radius: 10;"/>
            </VBox>

            <Region VBox.vgrow="ALWAYS"/>

            <Separator style="-fx-opacity: 0.35;"/>

            <!-- User footer -->
            <VBox spacing="4">
                <Label text="Connecté en tant que"
                       style="-fx-text-fill: rgba(255,255,255,0.75);"/>
                <Label fx:id="connectedAsLabel"
                       text="-"
                       style="-fx-text-fill: white; -fx-font-weight: bold;"/>
            </VBox>
        </VBox>
    </left>

    <!-- ================= CENTER CONTENT ================= -->
    <center>
        <StackPane fx:id="contentArea" style="-fx-background-color: #F5F5F5;"/>
    </center>

</BorderPane>