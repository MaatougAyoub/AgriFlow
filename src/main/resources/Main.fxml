<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.geometry.*?>

<BorderPane fx:id="mainContainer"
            xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.MainController"
            stylesheets="@styles.css">

    <!-- ============ SIDEBAR (LEFT) ============ -->
    <left>
        <VBox styleClass="sidebar" spacing="8">
            <padding>
                <Insets top="20" right="12" bottom="15" left="12"/>
            </padding>

            <!-- Logo -->
            <VBox alignment="CENTER" spacing="6">
                <ImageView fx:id="logoView" fitWidth="150" preserveRatio="true"
                           styleClass="sidebar-logo">
                    <image>
                        <Image url="@../images/logo.png"/>
                    </image>
                </ImageView>
                <Label text="Marketplace P2P" styleClass="sidebar-subtitle"/>
            </VBox>

            <Separator/>

            <!-- Navigation Buttons with SVG Icons -->
            <VBox fx:id="navBox" spacing="6">
                <padding>
                    <Insets top="8"/>
                </padding>

                <!-- ðŸ  Marketplace -->
                <Button fx:id="btnMarketplace" text="Marketplace"
                        styleClass="nav-button" maxWidth="Infinity"
                        onAction="#afficherMarketplace">
                    <graphic>
                        <SVGPath content="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"
                                 fill="white" scaleX="1.0" scaleY="1.0"/>
                    </graphic>
                </Button>

                <!-- âž• Publier une annonce -->
                <Button fx:id="btnAjout" text="Publier une annonce"
                        styleClass="nav-button" maxWidth="Infinity"
                        onAction="#afficherAjout">
                    <graphic>
                        <SVGPath content="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"
                                 fill="white" scaleX="1.0" scaleY="1.0"/>
                    </graphic>
                </Button>

                <!-- ðŸ“‹ Mes RÃ©servations -->
                <Button fx:id="btnReservations" text="Mes RÃ©servations"
                        styleClass="nav-button" maxWidth="Infinity"
                        onAction="#afficherReservations">
                    <graphic>
                        <SVGPath content="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"
                                 fill="white" scaleX="1.0" scaleY="1.0"/>
                    </graphic>
                </Button>
            </VBox>

            <Separator style="-fx-padding: 6 0;"/>

            <!-- ðŸ‘® Admin (temporaire â€” sera masquÃ© aprÃ¨s intÃ©gration login) -->
            <Button fx:id="btnAdmin" text="Espace Admin"
                    styleClass="nav-button-admin" maxWidth="Infinity"
                    onAction="#afficherAdmin">
                <graphic>
                    <SVGPath content="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"
                             fill="white" scaleX="1.0" scaleY="1.0"/>
                </graphic>
            </Button>

            <!-- Spacer -->
            <Region VBox.vgrow="ALWAYS"/>

            <!-- User Info -->
            <VBox styleClass="sidebar-user-box" spacing="2">
                <Label text="ConnectÃ© en tant que" styleClass="sidebar-user-label"/>
                <Label fx:id="userNameLabel" text="Utilisateur" styleClass="sidebar-user-name"/>
            </VBox>
        </VBox>
    </left>

    <!-- ============ CONTENT (CENTER) ============ -->
    <center>
        <StackPane fx:id="contentArea" styleClass="content-area"/>
    </center>

</BorderPane>
