<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<ScrollPane fitToWidth="true" prefHeight="708.0" prefWidth="832.0"
            style="-fx-background-color: #F5F5F5;"
            xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
            fx:controller="controllers.ProfilUtilisateur">

    <VBox spacing="18" style="-fx-background-color: white; -fx-max-width: 900;">
        <padding>
            <Insets bottom="28" left="34" right="34" top="28" />
        </padding>

        <Label style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-text-fill: #2E7D32;" text="Profil utilisateur" />

        <Label fx:id="roleLabel" style="-fx-font-size: 14px; -fx-text-fill: #616161; -fx-font-weight: bold;" text="Rôle: -" />

        <Label fx:id="errorLabel" style="-fx-text-fill: #F44336; -fx-background-color: #FFEBEE; -fx-padding: 10; -fx-background-radius: 6;" visible="false" wrapText="true" />

        <Separator />

        <!-- Infos communes -->
        <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #424242;" text="Informations générales" />

        <GridPane hgap="14" vgap="12">
            <columnConstraints>
                <ColumnConstraints minWidth="140" prefWidth="170" />
                <ColumnConstraints hgrow="ALWAYS" />
            </columnConstraints>

            <Label text="Nom" GridPane.columnIndex="0" GridPane.rowIndex="0" />
            <Label fx:id="nomValue" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />

            <Label text="Prénom" GridPane.columnIndex="0" GridPane.rowIndex="1" />
            <Label fx:id="prenomValue" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />

            <Label text="CIN" GridPane.columnIndex="0" GridPane.rowIndex="2" />
            <Label fx:id="cinValue" text="-" GridPane.columnIndex="1" GridPane.rowIndex="2" />

            <Label text="Email" GridPane.columnIndex="0" GridPane.rowIndex="3" />
            <Label fx:id="emailValue" text="-" GridPane.columnIndex="1" GridPane.rowIndex="3" />

            <Label text="Date création" GridPane.columnIndex="0" GridPane.rowIndex="4" />
            <Label fx:id="dateCreationValue" text="-" GridPane.columnIndex="1" GridPane.rowIndex="4" />

            <!-- Signature image -->
            <Label text="Signature" GridPane.columnIndex="0" GridPane.rowIndex="5" />
            <VBox spacing="6" GridPane.columnIndex="1" GridPane.rowIndex="5">
                <Label fx:id="signaturePathValue" style="-fx-text-fill: #616161;" text="-" wrapText="true" />
                <ImageView fx:id="signatureImage" fitHeight="160" fitWidth="260" preserveRatio="true" smooth="true" />
            </VBox>
         <rowConstraints>
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
            <RowConstraints />
         </rowConstraints>
        </GridPane>

        <Separator />

        <!-- Section Agriculteur -->
        <VBox fx:id="agriculteurBox" managed="false" spacing="10" visible="false">
            <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2E7D32;" text="Informations Agriculteur" />

            <GridPane hgap="14" vgap="12">
                <columnConstraints>
                    <ColumnConstraints minWidth="140" prefWidth="170" />
                    <ColumnConstraints hgrow="ALWAYS" />
                </columnConstraints>

                <Label text="Adresse" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                <Label fx:id="adresseValue" text="-" wrapText="true" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                <Label text="Parcelles" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                <Label fx:id="parcellesValue" text="-" wrapText="true" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                <!-- Carte pro image -->
                <Label text="Carte pro" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                <VBox spacing="6" GridPane.columnIndex="1" GridPane.rowIndex="2">
                    <Label fx:id="carteProPathValue" style="-fx-text-fill: #616161;" text="-" wrapText="true" />
                    <ImageView fx:id="carteProImage" fitHeight="160" fitWidth="260" preserveRatio="true" smooth="true" />
                </VBox>
            <rowConstraints>
               <RowConstraints />
               <RowConstraints />
               <RowConstraints />
            </rowConstraints>
            </GridPane>
        </VBox>

        <!-- Section Expert -->
        <VBox fx:id="expertBox" managed="false" spacing="10" visible="false">
            <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2E7D32;" text="Informations Expert" />

            <GridPane hgap="14" vgap="12">
                <columnConstraints>
                    <ColumnConstraints minWidth="140" prefWidth="170" />
                    <ColumnConstraints hgrow="ALWAYS" />
                </columnConstraints>

                <!-- Certification image -->
                <Label text="Certification" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                <VBox spacing="6" GridPane.columnIndex="1" GridPane.rowIndex="0">
                    <Label fx:id="certificationPathValue" style="-fx-text-fill: #616161;" text="-" wrapText="true" />
                    <ImageView fx:id="certificationImage" fitHeight="160" fitWidth="260" preserveRatio="true" smooth="true" />
                </VBox>
            <rowConstraints>
               <RowConstraints />
            </rowConstraints>
            </GridPane>
        </VBox>

        <!-- Section Admin -->
        <VBox fx:id="adminBox" managed="false" spacing="10" visible="false">
            <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2E7D32;" text="Informations Admin" />

            <GridPane hgap="14" vgap="12">
                <columnConstraints>
                    <ColumnConstraints minWidth="140" prefWidth="170" />
                    <ColumnConstraints hgrow="ALWAYS" />
                </columnConstraints>

                <Label text="Revenu" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                <Label fx:id="revenuValue" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />
            <rowConstraints>
               <RowConstraints />
            </rowConstraints>
            </GridPane>
        </VBox>

        <Separator />

        <!-- ✅ Boutons -->
        <HBox alignment="CENTER_RIGHT" spacing="12">
            <Button fx:id="reclamationsButton"
                    onAction="#reclamations"
                    style="-fx-background-color: #616161; -fx-text-fill: white; -fx-padding: 10 18;"
                    text="Réclamations" />

            <Button fx:id="listeParcellesButton"
                    onAction="#listeParcelles"
                    style="-fx-background-color: #1976d2; -fx-text-fill: white; -fx-padding: 10 18;"
                    text="Liste des parcelles" />

            <Button onAction="#modifierProfil"
                    style="-fx-background-color: #2E7D32; -fx-text-fill: white; -fx-padding: 10 18;"
                    text="Modifier" />

            <Button onAction="#logout"
                    style="-fx-background-color: #ea0000; -fx-text-fill: white; -fx-padding: 10 18;"
                    text="Déconnexion" />
        </HBox>


    </VBox>
</ScrollPane>
