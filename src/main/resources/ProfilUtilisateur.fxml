<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<ScrollPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="controllers.ProfilUtilisateur"
            prefHeight="650.0" prefWidth="800.0"
            fitToWidth="true"
            style="-fx-background-color: #F5F5F5;">

    <VBox spacing="18" style="-fx-background-color: white; -fx-max-width: 900;">
        <padding>
            <Insets top="28" right="34" bottom="28" left="34"/>
        </padding>

        <Label text="Profil utilisateur"
               style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-text-fill: #2E7D32;"/>

        <Label fx:id="roleLabel"
               text="Rôle: -"
               style="-fx-font-size: 14px; -fx-text-fill: #616161; -fx-font-weight: bold;"/>

        <Label fx:id="errorLabel"
               visible="false"
               wrapText="true"
               style="-fx-text-fill: #F44336; -fx-background-color: #FFEBEE; -fx-padding: 10; -fx-background-radius: 6;"/>

        <Separator/>

        <!-- Infos communes -->
        <Label text="Informations générales"
               style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #424242;"/>

        <GridPane vgap="12" hgap="14">
            <columnConstraints>
                <ColumnConstraints minWidth="140" prefWidth="170"/>
                <ColumnConstraints hgrow="ALWAYS"/>
            </columnConstraints>

            <Label text="Nom" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
            <Label fx:id="nomValue" text="-" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

            <Label text="Prénom" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
            <Label fx:id="prenomValue" text="-" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

            <Label text="CIN" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
            <Label fx:id="cinValue" text="-" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

            <Label text="Email" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
            <Label fx:id="emailValue" text="-" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

            <Label text="Date création" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
            <Label fx:id="dateCreationValue" text="-" GridPane.rowIndex="4" GridPane.columnIndex="1"/>

            <!-- Signature image -->
            <Label text="Signature" GridPane.rowIndex="5" GridPane.columnIndex="0"/>
            <VBox spacing="6" GridPane.rowIndex="5" GridPane.columnIndex="1">
                <Label fx:id="signaturePathValue" text="-" style="-fx-text-fill: #616161;" wrapText="true"/>
                <ImageView fx:id="signatureImage"
                           fitWidth="260" fitHeight="160"
                           preserveRatio="true"
                           smooth="true"/>
            </VBox>
        </GridPane>

        <Separator/>

        <!-- Section Agriculteur -->
        <VBox fx:id="agriculteurBox" spacing="10" visible="false" managed="false">
            <Label text="Informations Agriculteur"
                   style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2E7D32;"/>

            <GridPane vgap="12" hgap="14">
                <columnConstraints>
                    <ColumnConstraints minWidth="140" prefWidth="170"/>
                    <ColumnConstraints hgrow="ALWAYS"/>
                </columnConstraints>

                <Label text="Adresse" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <Label fx:id="adresseValue" text="-" GridPane.rowIndex="0" GridPane.columnIndex="1" wrapText="true"/>

                <Label text="Parcelles" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <Label fx:id="parcellesValue" text="-" GridPane.rowIndex="1" GridPane.columnIndex="1" wrapText="true"/>

                <!-- Carte pro image -->
                <Label text="Carte pro" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <VBox spacing="6" GridPane.rowIndex="2" GridPane.columnIndex="1">
                    <Label fx:id="carteProPathValue" text="-" style="-fx-text-fill: #616161;" wrapText="true"/>
                    <ImageView fx:id="carteProImage"
                               fitWidth="260" fitHeight="160"
                               preserveRatio="true"
                               smooth="true"/>
                </VBox>
            </GridPane>
        </VBox>

        <!-- Section Expert -->
        <VBox fx:id="expertBox" spacing="10" visible="false" managed="false">
            <Label text="Informations Expert"
                   style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2E7D32;"/>

            <GridPane vgap="12" hgap="14">
                <columnConstraints>
                    <ColumnConstraints minWidth="140" prefWidth="170"/>
                    <ColumnConstraints hgrow="ALWAYS"/>
                </columnConstraints>

                <!-- Certification image -->
                <Label text="Certification" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <VBox spacing="6" GridPane.rowIndex="0" GridPane.columnIndex="1">
                    <Label fx:id="certificationPathValue" text="-" style="-fx-text-fill: #616161;" wrapText="true"/>
                    <ImageView fx:id="certificationImage"
                               fitWidth="260" fitHeight="160"
                               preserveRatio="true"
                               smooth="true"/>
                </VBox>
            </GridPane>
        </VBox>

        <!-- Section Admin -->
        <VBox fx:id="adminBox" spacing="10" visible="false" managed="false">
            <Label text="Informations Admin"
                   style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2E7D32;"/>

            <GridPane vgap="12" hgap="14">
                <columnConstraints>
                    <ColumnConstraints minWidth="140" prefWidth="170"/>
                    <ColumnConstraints hgrow="ALWAYS"/>
                </columnConstraints>

                <Label text="Revenu" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <Label fx:id="revenuValue" text="-" GridPane.rowIndex="0" GridPane.columnIndex="1"/>
            </GridPane>
        </VBox>

        <Separator/>

        <!-- ✅ Boutons -->
        <HBox spacing="12" alignment="CENTER_RIGHT">
            <Button text="Modifier"
                    style="-fx-background-color: #2E7D32; -fx-text-fill: white; -fx-padding: 10 18;"
                    onAction="#modifierProfil"/>

            <Button text="Déconnexion"
                    style="-fx-background-color: #ea0000; -fx-text-fill: white; -fx-padding: 10 18;"
                    onAction="#logout"/>
        </HBox>


    </VBox>
</ScrollPane>