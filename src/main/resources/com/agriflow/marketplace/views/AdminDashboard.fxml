<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.geometry.*?>

<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.agriflow.marketplace.controllers.AdminDashboardController"
      spacing="15" style="-fx-background-color: #F4F6F3;"
      stylesheets="@styles.css">

    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- â•â•â• HEADER â•â•â• -->
    <HBox spacing="12" alignment="CENTER_LEFT">
        <SVGPath content="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"
                 fill="#E65100" scaleX="1.3" scaleY="1.3"/>
        <VBox spacing="2">
            <Label text="Espace Administration" styleClass="admin-title"/>
            <Label text="ModÃ©ration Marketplace â€” Vue globale" style="-fx-font-size: 12px; -fx-text-fill: #757575;"/>
        </VBox>
        <Region HBox.hgrow="ALWAYS"/>
        <Button text="Retour" styleClass="btn-secondary" onAction="#retourMarketplace">
            <graphic>
                <SVGPath content="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"
                         fill="#757575" scaleX="0.7" scaleY="0.7"/>
            </graphic>
        </Button>
    </HBox>

    <!-- â•â•â• STATS CARDS â•â•â• -->
    <HBox spacing="15" alignment="CENTER_LEFT">
        <HBox styleClass="stat-card" spacing="10" alignment="CENTER_LEFT">
            <SVGPath content="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"
                     fill="#2D5A27" scaleX="1.2" scaleY="1.2"/>
            <VBox spacing="2">
                <Label fx:id="totalAnnoncesLabel" text="0" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #2D5A27;"/>
                <Label text="Annonces" style="-fx-font-size: 11px; -fx-text-fill: #757575;"/>
            </VBox>
        </HBox>
        <HBox styleClass="stat-card" spacing="10" alignment="CENTER_LEFT">
            <SVGPath content="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"
                     fill="#1E88E5" scaleX="1.2" scaleY="1.2"/>
            <VBox spacing="2">
                <Label fx:id="totalReservationsLabel" text="0" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #1E88E5;"/>
                <Label text="RÃ©servations" style="-fx-font-size: 11px; -fx-text-fill: #757575;"/>
            </VBox>
        </HBox>
        <HBox styleClass="stat-card" spacing="10" alignment="CENTER_LEFT">
            <SVGPath content="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"
                     fill="#E65100" scaleX="1.2" scaleY="1.2"/>
            <VBox spacing="2">
                <Label fx:id="enAttenteLabel" text="0" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #E65100;"/>
                <Label text="En attente" style="-fx-font-size: 11px; -fx-text-fill: #757575;"/>
            </VBox>
        </HBox>
    </HBox>

    <!-- â•â•â• TABPANE â•â•â• -->
    <TabPane fx:id="adminTabPane" tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS"
             styleClass="admin-tabs">

        <!-- â”€â”€ Onglet 1 : ANNONCES â”€â”€ -->
        <Tab text="ðŸ“‹ Gestion des Annonces">
            <VBox spacing="10">
                <padding><Insets top="12" right="5" bottom="5" left="5"/></padding>
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <TextField fx:id="searchAnnoncesField" promptText="ðŸ” Rechercher une annonce..."
                               styleClass="admin-search" HBox.hgrow="ALWAYS"/>
                </HBox>
                <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS"
                            style="-fx-background-color: transparent; -fx-background: transparent;">
                    <FlowPane fx:id="annoncesContainer" hgap="15" vgap="15"
                              style="-fx-padding: 5;"/>
                </ScrollPane>
            </VBox>
        </Tab>

        <!-- â”€â”€ Onglet 2 : RÃ‰SERVATIONS â”€â”€ -->
        <Tab text="ðŸ“… Gestion des RÃ©servations">
            <VBox spacing="10">
                <padding><Insets top="12" right="5" bottom="5" left="5"/></padding>
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <TextField fx:id="searchReservationsField" promptText="ðŸ” Rechercher une rÃ©servation..."
                               styleClass="admin-search" HBox.hgrow="ALWAYS"/>
                </HBox>
                <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS"
                            style="-fx-background-color: transparent; -fx-background: transparent;">
                    <FlowPane fx:id="reservationsContainer" hgap="15" vgap="15"
                              style="-fx-padding: 5;"/>
                </ScrollPane>
            </VBox>
        </Tab>
    </TabPane>
</VBox>
